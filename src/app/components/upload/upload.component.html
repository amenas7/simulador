<div class="upload-container">
  <div class="upload-card">
    <div class="upload-header">
      <h1>Simulacro de Examen de Certificaci贸n</h1>
      <p>Selecciona un examen predefinido o carga tu propio archivo JSON</p>
    </div>

    <div class="predefined-exams">
      <h3>Ex谩menes Predefinidos</h3>
      <div class="exam-buttons">
        <button
          *ngFor="let exam of predefinedExams"
          class="exam-btn"
          [class.loading]="loadingExam() === exam.id"
          [disabled]="loadingExam() !== null"
          (click)="loadPredefinedExam(exam.id, exam.file)"
        >
          <span *ngIf="loadingExam() !== exam.id">{{ exam.name }}</span>
          <span *ngIf="loadingExam() === exam.id">Cargando...</span>
        </button>
      </div>
    </div>

    <div class="divider">
      <span>O carga tu propio archivo</span>
    </div>

    <div 
      class="upload-area" 
      [class.dragging]="isDragging()"
      (click)="triggerFileInput()"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
    >
      <input
        type="file"
        id="fileInput"
        accept=".json"
        (change)="onFileSelected($event)"
        style="display: none"
      />
      
      <div class="upload-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
      </div>

      <div class="upload-text">
        <p class="upload-main" *ngIf="!isDragging()">Haz clic para seleccionar un archivo</p>
        <p class="upload-main dragging-text" *ngIf="isDragging()">Suelta el archivo aqu铆</p>
        <p class="upload-sub" *ngIf="!isDragging()">o arrastra y suelta un archivo JSON aqu铆</p>
      </div>

      <div class="file-info" *ngIf="fileName()">
        <span class="file-icon"></span>
        <span class="file-name">{{ fileName() }}</span>
      </div>
    </div>

    <div class="error-message" *ngIf="errorMessage()">
      <span class="error-icon">锔</span>
      <span>{{ errorMessage() }}</span>
    </div>

    <div class="format-info">
      <h3>Formato esperado del archivo JSON:</h3>
      <p class="format-note">Selecci贸n 煤nica:</p>
      <pre><code>[
  {{'{'}}"numeroPregunta": 1,
    "pregunta": "驴Texto de la pregunta?",
    "alternativas": [
      {{'{'}}"id": "A", "texto": "Opci贸n A"{{'}'}} ,
      {{'{'}}"id": "B", "texto": "Opci贸n B"{{'}'}} ,
      {{'{'}}"id": "C", "texto": "Opci贸n C"{{'}'}} ,
      {{'{'}}"id": "D", "texto": "Opci贸n D"{{'}'}}
    ],
    "respuestaCorrecta": "A"
  {{'}'}}
]</code></pre>
      
      <p class="format-note">Selecci贸n m煤ltiple:</p>
      <pre><code>[
  {{'{'}}"numeroPregunta": 2,
    "pregunta": "驴Selecciona todas las opciones correctas?",
    "alternativas": [
      {{'{'}}"id": "A", "texto": "Opci贸n A"{{'}'}} ,
      {{'{'}}"id": "B", "texto": "Opci贸n B"{{'}'}} ,
      {{'{'}}"id": "C", "texto": "Opci贸n C"{{'}'}} ,
      {{'{'}}"id": "D", "texto": "Opci贸n D"{{'}'}}
    ],
    "respuestaCorrecta": ["A", "C"]
  {{'}'}}
]</code></pre>
    </div>
  </div>
</div>

